@page "/"

@using MyApp.Services

<h1>Top 100 Anime List</h1>

@if (animeList == null)
{
    <p>Loading...</p>
}
else
{
    <ul>
        @foreach (var anime in animeList.Take(100)) // Ensure only the top 100 are displayed
        {
            <li>
                <img src="@anime.Images.Jpg.Image_url" alt="@anime.Title" style="width: 100px; height: 150px;" />
                <p>@anime.Title</p>
            </li>
        }
    </ul>
}

@code {
    private List<AnimeData> animeList; // Correctly typed to match the data structure

    [Inject]
    private AnimeService AnimeService { get; set; }

    protected override async Task OnInitializedAsync()
    {
        animeList = await AnimeService.GetAnimeListAsync();
    }
}
